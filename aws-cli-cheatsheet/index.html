<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>AWS CLI Cheatsheet - Pratyaksha</title><meta name=Description content="This is my cool site"><meta property="og:url" content="https://pratyakshajha.me/aws-cli-cheatsheet/">
<meta property="og:site_name" content="Pratyaksha"><meta property="og:title" content="AWS CLI Cheatsheet"><meta property="og:description" content="CLI Command Structure:
aws <command> <subcommand> [options and parameters]
aws <command> wait <subcommand> [options and parameters] (not supported by all)
Set Up Using long-term credentials with IAM user (Not recommended):
1 aws configure Using short-term credentialswith IAM user:
1 2 aws configure aws configure set aws_session_token TOKEN # token generated from previous command Using EC2 instance metadata:
1 2 3 4 aws configure set role_arn arn:aws:iam::123456789012:role/defaultrole aws configure set credential_source Ec2InstanceMetadata aws configure set region us-west-2 aws configure set output json Using IAM role:"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-26T20:59:21+05:30"><meta property="article:modified_time" content="2024-04-26T20:59:21+05:30"><meta property="article:tag" content="Aws"><meta name=twitter:card content="summary"><meta name=twitter:title content="AWS CLI Cheatsheet"><meta name=twitter:description content="CLI Command Structure:
aws <command> <subcommand> [options and parameters]
aws <command> wait <subcommand> [options and parameters] (not supported by all)
Set Up Using long-term credentials with IAM user (Not recommended):
1 aws configure Using short-term credentialswith IAM user:
1 2 aws configure aws configure set aws_session_token TOKEN # token generated from previous command Using EC2 instance metadata:
1 2 3 4 aws configure set role_arn arn:aws:iam::123456789012:role/defaultrole aws configure set credential_source Ec2InstanceMetadata aws configure set region us-west-2 aws configure set output json Using IAM role:"><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://pratyakshajha.me/aws-cli-cheatsheet/><link rel=prev href=https://pratyakshajha.me/sql-cheatsheet/><link rel=alternate href=/aws-cli-cheatsheet/index.xml type=application/rss+xml title=Pratyaksha><link rel=feed href=/aws-cli-cheatsheet/index.xml type=application/rss+xml title=Pratyaksha><link rel=stylesheet href=/css/style.min.87bf1911dd101ec4f361dc638848b84bc1cdf6bfede2bce9f7291cbf99fdcc4d.css integrity="sha256-h78ZEd0QHsTzYdxjiEi4S8HN9r/t4rzp9ykcv5n9zE0="><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"AWS CLI Cheatsheet","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/pratyakshajha.me\/aws-cli-cheatsheet\/"},"genre":"posts","keywords":"aws","wordcount":5292,"url":"https:\/\/pratyakshajha.me\/aws-cli-cheatsheet\/","datePublished":"2024-04-26T20:59:21+05:30","dateModified":"2024-04-26T20:59:21+05:30","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Pratyaksha Jha"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Pratyaksha>Pratyaksha</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/ title=Posts>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/about/ title=About>About </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Pratyaksha>Pratyaksha</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title=Posts>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/about/ title=About>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">AWS CLI Cheatsheet</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/about title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Pratyaksha Jha</a></span>&nbsp;<span class=post-category>included in <a href=/categories/cheatsheets/><i class="far fa-folder fa-fw" aria-hidden=true></i>Cheatsheets</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2024-04-26>2024-04-26</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;5292 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;25 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#set-up>Set Up</a><ul><li><a href=#credentials-and-config-files>Credentials and config files</a></li></ul></li><li><a href=#aws-cli-global-settings>AWS CLI Global Settings</a><ul><li><a href=#specifying-parameters>Specifying parameters</a><ul><li><a href=#shorthand-syntax>Shorthand Syntax</a></li><li><a href=#load-parameters-from-a-file>Load Parameters from a file</a></li></ul></li><li><a href=#aws-cli-skeletons-and-input-files>AWS CLI skeletons and input files</a></li><li><a href=#aws-cli-output-format>AWS CLI output format</a></li><li><a href=#pagination>Pagination</a></li><li><a href=#aws-cli-global-options>AWS CLI Global Options</a></li><li><a href=#filtering-the-output>Filtering the output</a><ul><li><a href=#server-side-filtering>Server-side filtering</a></li><li><a href=#client-side-filtering>Client-side filtering</a></li></ul></li></ul></li><li><a href=#frequently-used-cli-commands>Frequently Used CLI commands</a><ul><li><a href=#dynamodb>DynamoDB</a><ul><li><a href=#get-item>Get Item</a></li><li><a href=#get-specific-attributes-for-an-item>Get specific attributes for an item</a></li><li><a href=#batch-get-items>Batch Get Items</a></li><li><a href=#put-an-item>Put an item</a></li><li><a href=#batch-write-items>Batch write items</a></li><li><a href=#create-a-backup>Create a backup</a></li><li><a href=#delete-an-item>Delete an item</a></li><li><a href=#delete-an-item-conditionally>Delete an item conditionally</a></li><li><a href=#view-provisioned-capacity-limits>View provisioned capacity limits</a></li><li><a href=#describe-a-table>Describe a table</a></li><li><a href=#list-tables>List tables</a></li><li><a href=#list-tags>List tags</a></li><li><a href=#query>Query</a></li><li><a href=#query-with-filtering>Query with filtering</a></li><li><a href=#query-and-return-item-count>Query and return item count</a></li><li><a href=#query-an-index>Query an index</a></li><li><a href=#scan-a-table>Scan a table</a></li><li><a href=#update-an-item>Update an item</a></li><li><a href=#update-an-item-conditionally>Update an item conditionally</a></li><li><a href=#create-a-global-secondary-index>Create a global secondary index</a></li></ul></li><li><a href=#lambda>Lambda</a><ul><li><a href=#add-a-permission>Add a permission</a></li><li><a href=#create-a-function>Create a function</a></li><li><a href=#update-function-code>Update function code</a></li><li><a href=#delete-a-function>Delete a function</a></li><li><a href=#get-function-information>Get function information</a></li><li><a href=#get-function-configuration>Get function configuration</a></li><li><a href=#update-function-configuration>Update function configuration</a></li><li><a href=#invoke-a-function>Invoke a function</a></li><li><a href=#invoke-a-function-1>Invoke a function</a></li><li><a href=#get-reserved-concurrent-execution-limit>Get reserved concurrent execution limit</a></li><li><a href=#add-reserved-concurrent-execution-limit>Add reserved concurrent execution limit</a></li><li><a href=#remove-reserved-concurrent-execution-limit>Remove reserved concurrent execution limit</a></li><li><a href=#get-provisioned-concurrency-configuration>Get provisioned concurrency configuration</a></li><li><a href=#add-provisioned-concurrency-configuration>Add provisioned concurrency configuration</a></li><li><a href=#delete-provisioned-concurrency-configuration>Delete provisioned concurrency configuration</a></li><li><a href=#get-lambda-limits-and-usage>Get Lambda limits and usage</a></li><li><a href=#get-policy-attached-to-function>Get policy attached to function</a></li><li><a href=#list-functions>List functions</a></li><li><a href=#list-layers-compatible-with-a-runtme>List layers compatible with a runtme</a></li><li><a href=#list-tags-1>List tags</a></li><li><a href=#list-versions-of-a-function>List versions of a function</a></li></ul></li><li><a href=#s3>S3</a><ul><li><a href=#create-a-multipart-upload>Create a multipart upload</a></li><li><a href=#list-active-multipart-uploads>List active multipart uploads</a></li><li><a href=#list-parts-that-have-uploaded>List parts that have uploaded</a></li><li><a href=#upload-a-part>Upload a part</a></li><li><a href=#complete-a-multipart-upload>Complete a multipart upload</a></li><li><a href=#abort-a-multipart-upload>Abort a multipart upload</a></li><li><a href=#copy-an-object-from-bucket-1-to-bucket-2>Copy an object from bucket-1 to bucket-2</a></li><li><a href=#copy-a-file-from-s3-to-s3>Copy a file from S3 to S3</a></li><li><a href=#copy-a-local-file-to-s3>Copy a local file to S3</a></li><li><a href=#copy-an-s3-object-to-a-local-file>Copy an S3 object to a local file</a></li><li><a href=#copy-an-s3-object-from-one-bucket-to-another>Copy an S3 object from one bucket to another</a></li><li><a href=#upload-to-an-access-point>Upload to an access point</a></li><li><a href=#download-from-an-access-point>Download from an access point</a></li><li><a href=#recursively-copy-s3-objects-to-a-local-directory>Recursively copy S3 objects to a local directory</a></li><li><a href=#recursively-copy-local-files-to-s3>Recursively copy local files to S3</a></li><li><a href=#move-a-local-file-to-bucket>Move a local file to bucket</a></li><li><a href=#move-an-object-to-local-folder>Move an object to local folder</a></li><li><a href=#move-an-object-to-another-bucket>Move an object to another bucket</a></li><li><a href=#move-file-to-an-acess-point>Move file to an acess point</a></li><li><a href=#move-all-objects-in-a-bucket-to-local-folder>Move all objects in a bucket to local folder</a></li><li><a href=#grant-permissions-for-an-s3-object>Grant permissions for an S3 object</a></li><li><a href=#delete-an-object>Delete an object</a></li><li><a href=#delete-object>Delete object</a></li><li><a href=#get-object-acl>Get object ACL</a></li><li><a href=#get-object-metadata-without-object>Get object metadata without object</a></li><li><a href=#get-object-attributes-without-object>Get object attributes without object</a></li><li><a href=#download-a-s3-object>Download a S3 object</a></li><li><a href=#upload-a-s3-object>Upload a S3 object</a></li><li><a href=#list-objects>List objects</a></li><li><a href=#list-object-versions>List object versions</a></li><li><a href=#list-objects-from-access-point>List objects from access point</a></li><li><a href=#delete-an-object-1>Delete an object</a></li><li><a href=#delete-all-objects-in-a-bucket>Delete all objects in a bucket</a></li><li><a href=#delete-an-object-from-an-access-point>Delete an object from an access point</a></li><li><a href=#filter-the-contents-of-an-object-based-on-an-sql-statement>Filter the contents of an object based on an SQL statement</a></li><li><a href=#sync-all-local-objects-to-the-specified-bucket>Sync all local objects to the specified bucket</a></li><li><a href=#sync-all-s3-objects-from-one-bucket-to-another-bucket>Sync all S3 objects from one bucket to another bucket</a></li><li><a href=#sync-all-objects-from-a-bucket-to-the-local-directory>Sync all objects from a bucket to the local directory</a></li><li><a href=#sync-to-an-s3-access-point>Sync to an S3 access point</a></li><li><a href=#create-a-bucket>Create a bucket</a></li><li><a href=#verify-if-bucket-exists-and-access-to-it>Verify if bucket exists and access to it</a></li><li><a href=#list-buckets>List buckets</a></li><li><a href=#list-all-buckets-owned-by-user>List all buckets owned by user</a></li><li><a href=#list-all-prefixes-and-objects-in-a-bucket>List all prefixes and objects in a bucket</a></li><li><a href=#get-bucket-acl>Get bucket ACL</a></li><li><a href=#add-permission-to-a-bucket-using-acl>Add permission to a bucket using ACL</a></li><li><a href=#add-permission-to-a-bucket-using-acl-1>Add permission to a bucket using ACL</a></li><li><a href=#set-the-block-public-access-configuration>Set the block public access configuration</a></li><li><a href=#delete-a-bucket>Delete a bucket</a></li></ul></li><li><a href=#sqs>SQS</a><ul><li><a href=#delete-a-message>Delete a message</a></li><li><a href=#get-queue-attributes>Get Queue attributes</a></li><li><a href=#get-queue-url>Get queue URL</a></li><li><a href=#list-souce-queues-of-a-dead-letter-queue>List souce queues of a dead letter queue</a></li><li><a href=#list-all-queues>List all queues</a></li><li><a href=#delete-all-messages-in-a-queue>Delete all messages in a queue</a></li><li><a href=#send-a-message>Send a message</a></li><li><a href=#send-multiple-messages>Send multiple messages</a></li><li><a href=#start-message-move-task---redrive-a-dlq>Start message move task - redrive a DLQ</a></li><li><a href=#list-message-move-tasks>List message move tasks</a></li><li><a href=#cancel-message-move-tasks>Cancel message move tasks</a></li></ul></li><li><a href=#api-gateway>Api Gateway</a><ul><li><a href=#get-api-gateway-account-settings>Get API Gateway account settings</a></li><li><a href=#list-rest-apis>List REST APIs</a></li><li><a href=#test-invoke-the-root-resource-in-an-api-by-making-a-get-request>Test invoke the root resource in an API by making a GET request</a></li><li><a href=#test-invoke-a-sub-resource-in-an-api-by-making-a-get-request-with-a-path-parameter-value>Test invoke a sub-resource in an API by making a GET request with a path parameter value</a></li><li><a href=#send-data-to-a-websocket-connection>Send data to a WebSocket connection</a></li><li><a href=#get-information-about-a-websocket-connection>Get information about a WebSocket connection</a></li><li><a href=#delete-a-websocket-connection>Delete a WebSocket connection</a></li></ul></li><li><a href=#rds>RDS</a><ul><li><a href=#describe-account-attributes>Describe account attributes</a></li><li><a href=#execute-a-batch-sql-statement-over-an-array-of-parameters>Execute a batch SQL statement over an array of parameters</a></li><li><a href=#begin-a-transaction>Begin a transaction</a></li><li><a href=#commit-a-sql-transaction>Commit a SQL transaction</a></li><li><a href=#execute-a-sql-statement-that-is-part-of-a-transaction>Execute a SQL statement that is part of a transaction</a></li><li><a href=#execute-a-sql-statement-with-parameters>Execute a SQL statement with parameters</a></li><li><a href=#roll-back-a-sql-transaction>Roll back a SQL transaction</a></li></ul></li></ul></li><li><a href=#references>References</a></li></ul></nav></div></div><div class=content id=content><p>CLI Command Structure:</p><p><code>aws &lt;command> &lt;subcommand> [options and parameters]</code></p><p><code>aws &lt;command> wait &lt;subcommand> [options and parameters]</code> (not supported by all)</p><h2 id=set-up>Set Up</h2><ul><li><p>Using long-term credentials with IAM user (Not recommended):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws configure
</span></span></code></pre></td></tr></table></div></div></li><li><p>Using short-term credentialswith IAM user:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws configure
</span></span><span class=line><span class=cl>aws configure <span class=nb>set</span> aws_session_token TOKEN <span class=c1># token generated from previous command</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Using EC2 instance metadata:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws configure <span class=nb>set</span> role_arn arn:aws:iam::123456789012:role/defaultrole
</span></span><span class=line><span class=cl>aws configure <span class=nb>set</span> credential_source Ec2InstanceMetadata
</span></span><span class=line><span class=cl>aws configure <span class=nb>set</span> region us-west-2
</span></span><span class=line><span class=cl>aws configure <span class=nb>set</span> output json
</span></span></code></pre></td></tr></table></div></div></li><li><p>Using IAM role:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws configure <span class=nb>set</span> role_arn arn:aws:iam::123456789012:role/defaultrole
</span></span><span class=line><span class=cl>aws configure <span class=nb>set</span> source_profile default
</span></span><span class=line><span class=cl>aws configure <span class=nb>set</span> role_session_name session_user1
</span></span><span class=line><span class=cl>aws configure <span class=nb>set</span> region us-west-2
</span></span><span class=line><span class=cl>aws configure <span class=nb>set</span> output json
</span></span></code></pre></td></tr></table></div></div></li><li><p>Using IAM Identity Center user</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws configure sso
</span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=credentials-and-config-files>Credentials and config files</h3><p>The <code>config</code> and <code>credentials</code> can set in various ways (in order of precedence):</p><ul><li>Command line options: Such as the <code>--region</code>, <code>--output</code>, and <code>--profile</code> parameters (<a href=https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html target=_blank rel="noopener noreffer">complete list</a>)</li><li>Environment variables: Such as <code>AWS_CONFIG_FILE</code>, <code>AWS_SHARED_CREDENTIALS_FILE</code>, <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code>, and <code>AWS_REGION</code> (<a href=https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html target=_blank rel="noopener noreffer">complete list</a>)</li><li>Assume role: Assume the permissions of an IAM role through configuration, web identity or the <code>aws sts assume-role</code> command.</li><li><code>aws</code> folder in home directory, <code>%UserProfile%</code> in Windows and <code>$HOME</code> or <code>~</code> in Unix (<a href=https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-files.html#cli-configure-files-settings target=_blank rel="noopener noreffer">config file settings</a>)</li></ul><p>More details are at: <a href=https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html target=_blank rel="noopener noreffer">https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html</a></p><h2 id=aws-cli-global-settings>AWS CLI Global Settings</h2><h3 id=specifying-parameters>Specifying parameters</h3><p>Simple parameters like strings and numbers can be passed as: <code>aws ec2 create-key-pair --key-name my-key-pair</code> where <code>my-key-pair</code> is a parameter</p><p>Formats for some other types are:</p><ul><li><p>Timestamps: <code>aws ec2 describe-spot-price-history --start-time 2014-10-13T19:00:00Z</code>. Accepatble formats are:</p><ul><li><code>YYYY-MM-DDThh:mm:ss.sssTZD (UTC)</code></li><li><code>YYYY-MM-DDThh:mm:ss.sssTZD (with offset)</code></li><li><code>YYYY-MM-DD</code></li><li>Unix Epoch time</li></ul></li><li><p>List: <code>aws ec2 describe-spot-price-history --instance-types m1.xlarge m1.medium</code></p></li><li><p>Boolean: <code>aws ec2 describe-spot-price-history --dry-run</code>
Binary flag that turns an option on or off. For example, ec2 describe-spot-price-history has a Boolean &ndash;dry-run parameter that, when specified, validates the query with the service without actually running the query.</p></li><li><p>Blob: Specify a path to a local file that contains the binary data using the <code>fileb://</code> prefix. This is treated as raw unencoded binary and the path is interpreted as being relative to the current working directory.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws kms encrypt <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key-id 1234abcd-12ab-34cd-56ef-1234567890ab <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --plaintext fileb://ExamplePlaintextFile <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --output text <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --query CiphertextBlob <span class=p>|</span> base64 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --decode &gt; ExampleEncryptedFile
</span></span></code></pre></td></tr></table></div></div></li><li><p>Streaming blob: Some parameters do not use the <code>fileb://</code> prefix. These are re formatted using the direct file path.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws cloudsearchdomain upload-documents <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --endpoint-url https://doc-my-domain.us-west-1.cloudsearch.amazonaws.com <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --content-type application/json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --documents document-batch.json
</span></span></code></pre></td></tr></table></div></div></li><li><p>Map: A set of key-value pairs specified in JSON or by using the CLI&rsquo;s shorthand syntax. <code>aws dynamodb get-item --table-name my-table --key '{"id": {"N":"1"}}'</code></p></li><li><p>Document: Document types are used to send data without needing to embed JSON inside strings. This allows for sending JSON data without needing to escape values.</p></li></ul><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fas fa-info-circle fa-fw" aria-hidden=true></i>Info<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>If any of the string items contain a space, you must put quotation marks around that item.</div></div></div><h4 id=shorthand-syntax>Shorthand Syntax</h4><p>AWS CLI also supports a shorthand syntax that enables a simpler representation of your option parameters than using the full JSON format. It makes it easier for users to input parameters that are flat (non-nested structures). The format is a comma-separated list of key-value pairs.</p><p>For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb update-table <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --provisioned-throughput <span class=nv>ReadCapacityUnits</span><span class=o>=</span>15,WriteCapacityUnits<span class=o>=</span><span class=m>10</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MyDDBTable
</span></span></code></pre></td></tr></table></div></div><p>This is equivalent to the following example formatted in JSON.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb update-table <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --provisioned-throughput <span class=s1>&#39;{&#34;ReadCapacityUnits&#34;:15,&#34;WriteCapacityUnits&#34;:10}&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MyDDBTable
</span></span></code></pre></td></tr></table></div></div><table><thead><tr><th>Shorthand</th><th>JSON</th></tr></thead><tbody><tr><td>&ndash;option key1=value1,key2=value2,key3=value3</td><td>&ndash;option &lsquo;{&ldquo;key1&rdquo;:&ldquo;value1&rdquo;,&ldquo;key2&rdquo;:&ldquo;value2&rdquo;,&ldquo;key3&rdquo;:&ldquo;value3&rdquo;}β</td></tr><tr><td>&ndash;option value1 value2 value3</td><td>&ndash;option &lsquo;[value1,value2,value3]β</td></tr><tr><td>&ndash;option Key=My1stTag,Value=Value1 Key=My2ndTag,Value=Value2 Key=My3rdTag,Value=Value3</td><td>&ndash;option β[{&ldquo;Key&rdquo;: &ldquo;My1stTag&rdquo;, &ldquo;Value&rdquo;: &ldquo;Value1&rdquo;}, {&ldquo;Key&rdquo;: &ldquo;My2ndTag&rdquo;, &ldquo;Value&rdquo;: &ldquo;Value2&rdquo;}, {&ldquo;Key&rdquo;: &ldquo;My3rdTag&rdquo;, &ldquo;Value&rdquo;: &ldquo;Value3&rdquo;}]β</td></tr></tbody></table><h4 id=load-parameters-from-a-file>Load Parameters from a file</h4><p>Use <code>file://complete/path/to/file</code> to provide a file URL to the parameter. Example:</p><p><code>aws ec2 describe-instances --filters file://filter.json</code></p><h3 id=aws-cli-skeletons-and-input-files>AWS CLI skeletons and input files</h3><ul><li>Most of the AWS CLI commands accept all parameter inputs from a file. These templates can be generated using the <code>generate-cli-skeleton</code> option. After generating a file, modify the parameter as per your requirement.</li><li>Most of the AWS Command Line Interface (AWS CLI) commands support the ability to accept all parameter inputs from a file using the <code>--cli-input-json</code> and <code>--cli-input-yaml</code> parameters. Use ths parameter and point to the filled-in file from the previous step.</li></ul><h3 id=aws-cli-output-format>AWS CLI output format</h3><p>The AWS CLI supports the following output formats:</p><ul><li>json: The output is formatted as a JSON.</li><li>yaml: The output is formatted as a YAML.</li><li>yaml-stream: The output is streamed and formatted as a YAML string. Streaming allows for faster handling of large data types.</li><li>text: The output is formatted as multiple lines of tab-separated string values. The output can be passed to a text processor, like grep.</li><li>table: The output is formatted as a table using the characters +|- to form the cell borders. This is more readable than other formats.</li></ul><h3 id=pagination>Pagination</h3><p>Server-side pagination can be used with the help of following options:</p><ul><li>&ndash;no-paginate: Disables pagination (AWS CLI pagnates by default)</li><li>&ndash;page-size: Change default page size</li><li>&ndash;max-items: Change default maximum number of items in a page</li><li>&ndash;starting-token: If total number of items is more than the items in a page (&ndash;max-items), then <code>NextToken</code> is also returned. This is passed as a parameter to &ndash;starting-token in the next CLI call to fetch the next page</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api list-objects <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --bucket my-bucket <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --max-items <span class=m>100</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --starting-token <span class=nv>eyJNYXJrZXIiOiBudWxsLCAiYm90b190cnVuY2F0ZV9hbW91bnQiOiAxfQ</span><span class=o>==</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=aws-cli-global-options>AWS CLI Global Options</h3><ul><li><code>--debug</code></li><li><code>--endpoint-url</code>: Change default URL used by the service</li><li><code>--no-verify-ssl</code></li><li><code>--no-paginate</code>: Disable automatic pagination.</li><li><code>--output</code>: json/text/table/yaml/yaml stream</li><li><code>--query</code>: JMESPath query to filter the response</li><li><code>--profile</code></li><li><code>--region</code></li><li><code>--version</code></li><li><code>--color</code>: on/off/auto</li><li><code>--no-sign-request</code>: Do not sign requests. Credentials will not be loaded</li><li><code>--ca-bundle</code>: The CA certificate bundle to use when verifying SSL certificates. Overrides config/env settings.</li><li><code>--cli-read-timeout</code>: The maximum socket read time in seconds. If the value is set to 0, the socket read will be blocking and not timeout. The default value is
60 seconds.</li><li><code>--cli-connect-timeout</code>: The maximum socket connect time in seconds. If the value is set to 0, the socket connect will be blocking and not timeout. The default value is 60 seconds.</li><li><code>--cli-binary-format</code>: The formatting style to be used for binary blobs.</li><li><code>--no-cli-pager</code></li><li><code>--cli-auto-prompt</code></li><li><code>--no-cli-auto-prompt</code></li></ul><h3 id=filtering-the-output>Filtering the output</h3><h4 id=server-side-filtering>Server-side filtering</h4><p>Server-side filtering in the AWS CLI is provided by the AWS service API. The parameter names and functions vary between services. Some common parameter names used for filtering are:</p><ul><li><code>--filter</code> such as ses and ce.</li><li><code>--filters</code> such as ec2, autoscaling, and rds.</li><li>Names starting with the word <code>filter</code>, for example <code>-filter-expression</code> for the <code>aws dynamodb scan</code> command.</li></ul><h4 id=client-side-filtering>Client-side filtering</h4><p>The &ndash;query parameter takes the HTTP response that comes back from the server and filters the results before displaying them. Querying uses <a href=https://jmespath.org/ target=_blank rel="noopener noreffer">JMESPath</a> syntax to create expressions for filtering the output.</p><p>For example, consider the command <code>aws ec2 describe-volumes</code> returns the following output:</p><ul><li><p>Output</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;Volumes&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;AvailabilityZone&#34;</span><span class=p>:</span> <span class=s2>&#34;us-west-2a&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Attachments&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;AttachTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2013-09-17T00:55:03.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;InstanceId&#34;</span><span class=p>:</span> <span class=s2>&#34;i-a071c394&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-e11a5288&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;attached&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;DeleteOnTermination&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;Device&#34;</span><span class=p>:</span> <span class=s2>&#34;/dev/sda1&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;VolumeType&#34;</span><span class=p>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-e11a5288&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;in-use&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;SnapshotId&#34;</span><span class=p>:</span> <span class=s2>&#34;snap-f23ec1c8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;CreateTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2013-09-17T00:55:03.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Size&#34;</span><span class=p>:</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;AvailabilityZone&#34;</span><span class=p>:</span> <span class=s2>&#34;us-west-2a&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Attachments&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;AttachTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2013-09-18T20:26:16.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;InstanceId&#34;</span><span class=p>:</span> <span class=s2>&#34;i-4b41a37c&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-2e410a47&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;attached&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;DeleteOnTermination&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;Device&#34;</span><span class=p>:</span> <span class=s2>&#34;/dev/sda1&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;VolumeType&#34;</span><span class=p>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-2e410a47&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;in-use&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;SnapshotId&#34;</span><span class=p>:</span> <span class=s2>&#34;snap-708e8348&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;CreateTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2013-09-18T20:26:15.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Size&#34;</span><span class=p>:</span> <span class=mi>8</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;AvailabilityZone&#34;</span><span class=p>:</span> <span class=s2>&#34;us-west-2a&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Attachments&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;AttachTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-11-20T19:54:06.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;InstanceId&#34;</span><span class=p>:</span> <span class=s2>&#34;i-1jd73kv8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-a1b3c7nd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;attached&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;DeleteOnTermination&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;Device&#34;</span><span class=p>:</span> <span class=s2>&#34;/dev/sda1&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;VolumeType&#34;</span><span class=p>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-a1b3c7nd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;in-use&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;SnapshotId&#34;</span><span class=p>:</span> <span class=s2>&#34;snap-234087fb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;CreateTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-11-20T19:54:05.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Size&#34;</span><span class=p>:</span> <span class=mi>15</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p>Different ways of filtering it are:</p><ul><li><p>To return only the first two volumes</p><p><code>aws ec2 describe-volumes --query 'Volumes[0:2:1]'</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;AvailabilityZone&#34;</span><span class=p>:</span> <span class=s2>&#34;us-west-2a&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Attachments&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;AttachTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2013-09-17T00:55:03.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;InstanceId&#34;</span><span class=p>:</span> <span class=s2>&#34;i-a071c394&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-e11a5288&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;attached&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DeleteOnTermination&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Device&#34;</span><span class=p>:</span> <span class=s2>&#34;/dev/sda1&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeType&#34;</span><span class=p>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-e11a5288&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;in-use&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;SnapshotId&#34;</span><span class=p>:</span> <span class=s2>&#34;snap-f23ec1c8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;CreateTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2013-09-17T00:55:03.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Size&#34;</span><span class=p>:</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;AvailabilityZone&#34;</span><span class=p>:</span> <span class=s2>&#34;us-west-2a&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Attachments&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;AttachTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2013-09-18T20:26:16.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;InstanceId&#34;</span><span class=p>:</span> <span class=s2>&#34;i-4b41a37c&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-2e410a47&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;attached&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DeleteOnTermination&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Device&#34;</span><span class=p>:</span> <span class=s2>&#34;/dev/sda1&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeType&#34;</span><span class=p>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-2e410a47&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;in-use&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;SnapshotId&#34;</span><span class=p>:</span> <span class=s2>&#34;snap-708e8348&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;CreateTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2013-09-18T20:26:15.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Size&#34;</span><span class=p>:</span> <span class=mi>8</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>To shows all Attachments information for all volumes</p><p><code>aws ec2 describe-volumes --query 'Volumes[*].Attachments'</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;AttachTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2013-09-17T00:55:03.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;InstanceId&#34;</span><span class=p>:</span> <span class=s2>&#34;i-a071c394&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-e11a5288&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;attached&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;DeleteOnTermination&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Device&#34;</span><span class=p>:</span> <span class=s2>&#34;/dev/sda1&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;AttachTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2013-09-18T20:26:16.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;InstanceId&#34;</span><span class=p>:</span> <span class=s2>&#34;i-4b41a37c&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-2e410a47&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;attached&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;DeleteOnTermination&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Device&#34;</span><span class=p>:</span> <span class=s2>&#34;/dev/sda1&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;AttachTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-11-20T19:54:06.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;InstanceId&#34;</span><span class=p>:</span> <span class=s2>&#34;i-1jd73kv8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-a1b3c7nd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;attached&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;DeleteOnTermination&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Device&#34;</span><span class=p>:</span> <span class=s2>&#34;/dev/sda1&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>To list the State for all Volumes (also flatten the result)</p><p><code>aws ec2 describe-volumes --query 'Volumes[*]*.Attachments*[].State'</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;attached&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;attached&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;attached&#34;</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Filter for the VolumeIds for all Volumes in an AttachedState</p><p><code>aws ec2 describe-volumes --query 'Volumes[*].Attachments[?State==attached].VolumeId'</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;vol-e11a5288&#34;</span>
</span></span><span class=line><span class=cl><span class=p>]</span><span class=err>,</span>
</span></span><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;vol-2e410a47&#34;</span>
</span></span><span class=line><span class=cl><span class=p>]</span><span class=err>,</span>
</span></span><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;vol-a1b3c7nd&#34;</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>To shows first InstanceId in all Attachments information for all volumes</p><p><code>aws ec2 describe-volumes --query 'Volumes[*].Attachments[].InstanceId | [0]'</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=s2>&#34;i-a071c394&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>This pipes results of a filter to a new list, and then filter the result again</p></li><li><p>Filter VolumeId and VolumeType in the Volumes list</p><p><code>aws ec2 describe-volumes --query 'Volumes[].[VolumeId, VolumeType]'</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;vol-e11a5288&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;standard&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;vol-2e410a47&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;standard&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;vol-a1b3c7nd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;standard&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>To add more nesting, example: <code>aws ec2 describe-volumes --query 'Volumes[].[VolumeId, VolumeType, Attachments[].[InstanceId, State]]'</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;vol-e11a5288&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;i-a071c394&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attached&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;vol-2e410a47&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;i-4b41a37c&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attached&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;vol-a1b3c7nd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;i-1jd73kv8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attached&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Filter VolumeType and add label VolumeType for the VolumeType values</p><p><code>aws ec2 describe-volumes --query 'Volumes[].{VolumeType: VolumeType}'</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeType&#34;</span><span class=p>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeType&#34;</span><span class=p>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeType&#34;</span><span class=p>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Filter, add labels and sort the output by VolumeId</p><p><code>aws ec2 describe-volumes --query 'sort_by(Volumes, &amp;VolumeId)[].{VolumeId: VolumeId, VolumeType: VolumeType, InstanceId: Attachments[0].InstanceId, State: Attachments[0].State}'</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-2e410a47&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeType&#34;</span><span class=p>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;InstanceId&#34;</span><span class=p>:</span> <span class=s2>&#34;i-4b41a37c&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;attached&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-a1b3c7nd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeType&#34;</span><span class=p>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;InstanceId&#34;</span><span class=p>:</span> <span class=s2>&#34;i-1jd73kv8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;attached&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeId&#34;</span><span class=p>:</span> <span class=s2>&#34;vol-e11a5288&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VolumeType&#34;</span><span class=p>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;InstanceId&#34;</span><span class=p>:</span> <span class=s2>&#34;i-a071c394&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=s2>&#34;attached&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=frequently-used-cli-commands>Frequently Used CLI commands</h2><h3 id=dynamodb>DynamoDB</h3><h4 id=get-item>Get Item</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb get-item <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key file://key.json
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>key.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Artist&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Acme Band&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;SongTitle&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Happy Day&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>For strongly consistent reads, use <code>--consistent-read</code></li></ul><h4 id=get-specific-attributes-for-an-item>Get specific attributes for an item</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb get-item <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name ProductCatalog <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key <span class=s1>&#39;{&#34;Id&#34;: {&#34;N&#34;: &#34;102&#34;}}&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --projection-expression <span class=s2>&#34;Description, RelatedItems[0], ProductReviews.FiveStar&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=batch-get-items>Batch Get Items</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb batch-get-item <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --request-items file://request-items.json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-consumed-capacity TOTAL
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>request-items.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;MusicCollection&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Keys&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;Artist&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;No One You Know&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;SongTitle&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Call Me Today&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;Artist&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Acme Band&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;SongTitle&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Happy Day&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;Artist&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;No One You Know&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;SongTitle&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Scared of My Shadow&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;ProjectionExpression&#34;</span><span class=p>:</span><span class=s2>&#34;AlbumTitle&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;ConsistentRead&#34;</span><span class=p>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Gets maximum of 100 items, upto 16 MB of data</li><li>Use <code>UnprocessedKeys</code> to get next page of results</li><li>For eventually consistent reads, set <code>ConsistentRead</code> as false or remove it</li></ul><h4 id=put-an-item>Put an item</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb put-item <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --item file://item.json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-consumed-capacity TOTAL <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-item-collection-metrics SIZE
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>item.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nt>&#34;Artist&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;No One You Know&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;SongTitle&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Call Me Today&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;AlbumTitle&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Greatest Hits&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Will replace an item, if it exists with same primary key</li></ul><h4 id=batch-write-items>Batch write items</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb batch-write-item <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --request-items file://request-items.json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-consumed-capacity INDEXES <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-item-collection-metrics SIZE
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>request-items.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;MusicCollection&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;PutRequest&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;Item&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;Artist&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;No One You Know&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;SongTitle&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Call Me Today&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;AlbumTitle&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Somewhat Famous&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;DeleteRequest&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;Key&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>							      <span class=nt>&#34;Artist&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;No One You Know&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>							      <span class=nt>&#34;SongTitle&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Scared of My Shadow&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>							<span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Will return maximum of 16MB of data, 400KB per item and up to 25 items per put and delete operation</li><li><code>PutRequest</code> will replace an existing item with same primary key</li></ul><h4 id=create-a-backup>Create a backup</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb create-backup <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --backup-name MusicCollectionBackup
</span></span></code></pre></td></tr></table></div></div><h4 id=delete-an-item>Delete an item</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb delete-item <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key <span class=s1>&#39;{&#34;Artist&#34;: {&#34;S&#34;: &#34;No One You Know&#34;}, &#34;SongTitle&#34;: {&#34;S&#34;: &#34;Scared of My Shadow&#34;}}&#39;</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-values ALL_OLD <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-consumed-capacity TOTAL <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-item-collection-metrics SIZE
</span></span></code></pre></td></tr></table></div></div><h4 id=delete-an-item-conditionally>Delete an item conditionally</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb delete-item <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name ProductCatalog <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key <span class=s1>&#39;{&#34;Id&#34;:{&#34;N&#34;:&#34;456&#34;}}&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --condition-expression <span class=s2>&#34;(ProductCategory IN (:cat1, :cat2)) and (#P between :lo and :hi)&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-names <span class=s1>&#39;{&#34;#P&#34;: &#34;Price&#34;}&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-values file://values.json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-values ALL_OLD
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>values.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;:cat1&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Sporting Goods&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;:cat2&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Gardening Supplies&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;:lo&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;N&#34;</span><span class=p>:</span> <span class=s2>&#34;500&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;:hi&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;N&#34;</span><span class=p>:</span> <span class=s2>&#34;600&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=view-provisioned-capacity-limits>View provisioned capacity limits</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb describe-limits
</span></span></code></pre></td></tr></table></div></div><h4 id=describe-a-table>Describe a table</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb describe-table --table-name MusicCollection
</span></span></code></pre></td></tr></table></div></div><p>Output:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Table&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;AttributeDefinitions&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;AttributeName&#34;</span><span class=p>:</span> <span class=s2>&#34;Artist&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;AttributeType&#34;</span><span class=p>:</span> <span class=s2>&#34;S&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;AttributeName&#34;</span><span class=p>:</span> <span class=s2>&#34;SongTitle&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;AttributeType&#34;</span><span class=p>:</span> <span class=s2>&#34;S&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;ProvisionedThroughput&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;NumberOfDecreasesToday&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;WriteCapacityUnits&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;ReadCapacityUnits&#34;</span><span class=p>:</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;TableSizeBytes&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;TableName&#34;</span><span class=p>:</span> <span class=s2>&#34;MusicCollection&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;TableStatus&#34;</span><span class=p>:</span> <span class=s2>&#34;ACTIVE&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;KeySchema&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;KeyType&#34;</span><span class=p>:</span> <span class=s2>&#34;HASH&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;AttributeName&#34;</span><span class=p>:</span> <span class=s2>&#34;Artist&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;KeyType&#34;</span><span class=p>:</span> <span class=s2>&#34;RANGE&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;AttributeName&#34;</span><span class=p>:</span> <span class=s2>&#34;SongTitle&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;ItemCount&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;CreationDateTime&#34;</span><span class=p>:</span> <span class=mf>1421866952.062</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=list-tables>List tables</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb list-tables
</span></span></code></pre></td></tr></table></div></div><h4 id=list-tags>List tags</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb list-tags-of-resource <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --resource-arn arn:aws:dynamodb:us-west-2:123456789012:table/MusicCollection
</span></span></code></pre></td></tr></table></div></div><h4 id=query>Query</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb query <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --projection-expression <span class=s2>&#34;SongTitle&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key-condition-expression <span class=s2>&#34;Artist = :v1&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-values <span class=s1>&#39;{&#34;:v1&#34;: {&#34;S&#34;: &#34;No One You Know&#34;}&#34;&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-consumed-capacity TOTAL
</span></span></code></pre></td></tr></table></div></div><ul><li>For strongly consistent reads, use <code>--consistent-read</code></li><li>Use <code>--scan-index-forward</code> to sort in ascending order and <code>--no-scan-index-forward</code> to sort in descendng order (sorted by sort key)</li></ul><h4 id=query-with-filtering>Query with filtering</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb query <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key-condition-expression <span class=s2>&#34;Artist = :v1&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --filter-expression <span class=s2>&#34;NOT (AlbumTitle IN (:v2, :v3))&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-names file://names.json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-consumed-capacity TOTAL
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>values.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;:v1&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;No One You Know&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;:v2&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Blue Sky Blues&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;:v3&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Greatest Hits&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=query-and-return-item-count>Query and return item count</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb query <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --select COUNT <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key-condition-expression <span class=s2>&#34;Artist = :v1&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-values file://expression-attributes.json
</span></span></code></pre></td></tr></table></div></div><h4 id=query-an-index>Query an index</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb query <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --index-name AlbumTitleIndex <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key-condition-expression <span class=s2>&#34;Artist = :v1&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-values <span class=s1>&#39;{&#34;:v1&#34;: {&#34;S&#34;: &#34;No One You Know&#34;}}&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --select ALL_PROJECTED_ATTRIBUTES <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-consumed-capacity INDEXES
</span></span></code></pre></td></tr></table></div></div><h4 id=scan-a-table>Scan a table</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb scan <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --filter-expression <span class=s2>&#34;Artist = :a&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --projection-expression <span class=s2>&#34;#ST, #AT&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-names file://expression-attribute-names.json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-values file://expression-attribute-values.json
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>expression-attribute-names.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;#ST&#34;</span><span class=p>:</span> <span class=s2>&#34;SongTitle&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;#AT&#34;</span><span class=p>:</span><span class=s2>&#34;AlbumTitle&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>expression-attribute-values.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;:a&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;No One You Know&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=update-an-item>Update an item</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb update-item <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key file://key.json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --update-expression <span class=s2>&#34;SET #Y = :y, #AT = :t&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-names file://expression-attribute-names.json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-values file://expression-attribute-values.json  <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-values ALL_NEW <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-consumed-capacity TOTAL <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --return-item-collection-metrics SIZE
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>key.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Artist&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Acme Band&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;SongTitle&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Happy Day&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>expression-attribute-names.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;#Y&#34;</span><span class=p>:</span><span class=s2>&#34;Year&#34;</span><span class=p>,</span> <span class=nt>&#34;#AT&#34;</span><span class=p>:</span><span class=s2>&#34;AlbumTitle&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=update-an-item-conditionally>Update an item conditionally</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb update-item <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key file://key.json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --update-expression <span class=s2>&#34;SET #Y = :y, #AT = :t&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-names file://expression-attribute-names.json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-attribute-values file://expression-attribute-values.json  <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --condition-expression <span class=s2>&#34;attribute_not_exists(#Y)&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>key.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Artist&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Acme Band&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;SongTitle&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Happy Day&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>expression-attribute-names.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;#Y&#34;</span><span class=p>:</span><span class=s2>&#34;Year&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;#AT&#34;</span><span class=p>:</span><span class=s2>&#34;AlbumTitle&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>expression-attribute-values.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;:y&#34;</span><span class=p>:{</span><span class=nt>&#34;N&#34;</span><span class=p>:</span> <span class=s2>&#34;2015&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;:t&#34;</span><span class=p>:{</span><span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Louder Than Ever&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=create-a-global-secondary-index>Create a global secondary index</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb update-table <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --table-name MusicCollection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --attribute-definitions <span class=nv>AttributeName</span><span class=o>=</span>AlbumTitle,AttributeType<span class=o>=</span>S <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --global-secondary-index-updates file://gsi-updates.json
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>gsi-updates.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Create&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;IndexName&#34;</span><span class=p>:</span> <span class=s2>&#34;AlbumTitle-index&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;KeySchema&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;AttributeName&#34;</span><span class=p>:</span> <span class=s2>&#34;AlbumTitle&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;KeyType&#34;</span><span class=p>:</span> <span class=s2>&#34;HASH&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;ProvisionedThroughput&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;ReadCapacityUnits&#34;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;WriteCapacityUnits&#34;</span><span class=p>:</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Projection&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;ProjectionType&#34;</span><span class=p>:</span> <span class=s2>&#34;ALL&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=lambda>Lambda</h3><h4 id=add-a-permission>Add a permission</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda add-permission <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name my-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --action lambda:InvokeFunction <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --statement-id sns <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --principal sns.amazonaws.com
</span></span></code></pre></td></tr></table></div></div><p>Output:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Statement&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Sid&#34;</span><span class=p>:</span><span class=s2>&#34;sns&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Effect&#34;</span><span class=p>:</span><span class=s2>&#34;Allow&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Principal&#34;</span><span class=p>:{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Service&#34;</span><span class=p>:</span><span class=s2>&#34;sns.amazonaws.com&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Action&#34;</span><span class=p>:</span><span class=s2>&#34;lambda:InvokeFunction&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Resource&#34;</span><span class=p>:</span><span class=s2>&#34;arn:aws:lambda:us-east-2:123456789012:function:my-function&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=create-a-function>Create a function</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda create-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name my-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --runtime nodejs18.x <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --zip-file fileb://my-function.zip <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --handler my-function.handler <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --role arn:aws:iam::123456789012:role/service-role/MyTestFunction-role-tges6bf4
</span></span></code></pre></td></tr></table></div></div><h4 id=update-function-code>Update function code</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda update-function-code <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name  my-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --zip-file fileb://my-function.zip
</span></span></code></pre></td></tr></table></div></div><h4 id=delete-a-function>Delete a function</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda delete-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name my-function
</span></span></code></pre></td></tr></table></div></div><h4 id=get-function-information>Get function information</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda get-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name  my-function
</span></span></code></pre></td></tr></table></div></div><p>Output:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Concurrency&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;ReservedConcurrentExecutions&#34;</span><span class=p>:</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Code&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;RepositoryType&#34;</span><span class=p>:</span> <span class=s2>&#34;S3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Location&#34;</span><span class=p>:</span> <span class=s2>&#34;https://awslambda-us-west-2-tasks.s3.us-west-2.amazonaws.com/snapshots/123456789012/my-function...&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Configuration&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;TracingConfig&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Mode&#34;</span><span class=p>:</span> <span class=s2>&#34;PassThrough&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Version&#34;</span><span class=p>:</span> <span class=s2>&#34;$LATEST&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;CodeSha256&#34;</span><span class=p>:</span> <span class=s2>&#34;5tT2qgzYUHoqwR616pZ2dpkn/0J1FrzJmlKidWaaCgk=&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;FunctionName&#34;</span><span class=p>:</span> <span class=s2>&#34;my-function&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;VpcConfig&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;SubnetIds&#34;</span><span class=p>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;VpcId&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;SecurityGroupIds&#34;</span><span class=p>:</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;MemorySize&#34;</span><span class=p>:</span> <span class=mi>128</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;RevisionId&#34;</span><span class=p>:</span> <span class=s2>&#34;28f0fb31-5c5c-43d3-8955-03e76c5c1075&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;CodeSize&#34;</span><span class=p>:</span> <span class=mi>304</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;FunctionArn&#34;</span><span class=p>:</span> <span class=s2>&#34;arn:aws:lambda:us-west-2:123456789012:function:my-function&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Handler&#34;</span><span class=p>:</span> <span class=s2>&#34;index.handler&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Role&#34;</span><span class=p>:</span> <span class=s2>&#34;arn:aws:iam::123456789012:role/service-role/helloWorldPython-role-uy3l9qyq&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Timeout&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;LastModified&#34;</span><span class=p>:</span> <span class=s2>&#34;2019-09-24T18:20:35.054+0000&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Runtime&#34;</span><span class=p>:</span> <span class=s2>&#34;nodejs10.x&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Description&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=get-function-configuration>Get function configuration</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda get-function-configuration <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name  my-function:2
</span></span></code></pre></td></tr></table></div></div><p>Output:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;FunctionName&#34;</span><span class=p>:</span> <span class=s2>&#34;my-function&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;LastModified&#34;</span><span class=p>:</span> <span class=s2>&#34;2019-09-26T20:28:40.438+0000&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;RevisionId&#34;</span><span class=p>:</span> <span class=s2>&#34;e52502d4-9320-4688-9cd6-152a6ab7490d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;MemorySize&#34;</span><span class=p>:</span> <span class=mi>256</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Version&#34;</span><span class=p>:</span> <span class=s2>&#34;2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Role&#34;</span><span class=p>:</span> <span class=s2>&#34;arn:aws:iam::123456789012:role/service-role/my-function-role-uy3l9qyq&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Timeout&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Runtime&#34;</span><span class=p>:</span> <span class=s2>&#34;nodejs10.x&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;TracingConfig&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Mode&#34;</span><span class=p>:</span> <span class=s2>&#34;PassThrough&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;CodeSha256&#34;</span><span class=p>:</span> <span class=s2>&#34;5tT2qgzYUHaqwR716pZ2dpkn/0J1FrzJmlKidWoaCgk=&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Description&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VpcConfig&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;SubnetIds&#34;</span><span class=p>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;VpcId&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;SecurityGroupIds&#34;</span><span class=p>:</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;CodeSize&#34;</span><span class=p>:</span> <span class=mi>304</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;FunctionArn&#34;</span><span class=p>:</span> <span class=s2>&#34;arn:aws:lambda:us-west-2:123456789012:function:my-function:2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Handler&#34;</span><span class=p>:</span> <span class=s2>&#34;index.handler&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=update-function-configuration>Update function configuration</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda update-function-configuration <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name  my-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --memory-size <span class=m>256</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=invoke-a-function>Invoke a function</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda invoke <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name my-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --cli-binary-format raw-in-base64-out <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --payload <span class=s1>&#39;{ &#34;name&#34;: &#34;Bob&#34; }&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    response.json
</span></span></code></pre></td></tr></table></div></div><h4 id=invoke-a-function-1>Invoke a function</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda invoke <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name my-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --invocation-type Event <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --cli-binary-format raw-in-base64-out <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --payload <span class=s1>&#39;{ &#34;name&#34;: &#34;Bob&#34; }&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    response.json
</span></span></code></pre></td></tr></table></div></div><h4 id=get-reserved-concurrent-execution-limit>Get reserved concurrent execution limit</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda get-function-concurrency <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name my-function
</span></span></code></pre></td></tr></table></div></div><h4 id=add-reserved-concurrent-execution-limit>Add reserved concurrent execution limit</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda put-function-concurrency <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name  my-function  <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --reserved-concurrent-executions <span class=m>100</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=remove-reserved-concurrent-execution-limit>Remove reserved concurrent execution limit</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda delete-function-concurrency <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name  my-function
</span></span></code></pre></td></tr></table></div></div><h4 id=get-provisioned-concurrency-configuration>Get provisioned concurrency configuration</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda get-provisioned-concurrency-config <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name my-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --qualifier BLUE
</span></span></code></pre></td></tr></table></div></div><h4 id=add-provisioned-concurrency-configuration>Add provisioned concurrency configuration</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda put-provisioned-concurrency-config <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name my-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --qualifier BLUE <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --provisioned-concurrent-executions <span class=m>100</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=delete-provisioned-concurrency-configuration>Delete provisioned concurrency configuration</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda delete-provisioned-concurrency-config <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name my-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --qualifier GREEN
</span></span></code></pre></td></tr></table></div></div><h4 id=get-lambda-limits-and-usage>Get Lambda limits and usage</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda get-account-settings
</span></span></code></pre></td></tr></table></div></div><p>Output:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;AccountLimit&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=nt>&#34;CodeSizeUnzipped&#34;</span><span class=p>:</span> <span class=mi>262144000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>       <span class=nt>&#34;UnreservedConcurrentExecutions&#34;</span><span class=p>:</span> <span class=mi>1000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>       <span class=nt>&#34;ConcurrentExecutions&#34;</span><span class=p>:</span> <span class=mi>1000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>       <span class=nt>&#34;CodeSizeZipped&#34;</span><span class=p>:</span> <span class=mi>52428800</span><span class=p>,</span>
</span></span><span class=line><span class=cl>       <span class=nt>&#34;TotalCodeSize&#34;</span><span class=p>:</span> <span class=mi>80530636800</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;AccountUsage&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=nt>&#34;FunctionCount&#34;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>       <span class=nt>&#34;TotalCodeSize&#34;</span><span class=p>:</span> <span class=mi>9426</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=get-policy-attached-to-function>Get policy attached to function</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda get-policy <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name my-function
</span></span></code></pre></td></tr></table></div></div><h4 id=list-functions>List functions</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda list-functions
</span></span></code></pre></td></tr></table></div></div><h4 id=list-layers-compatible-with-a-runtme>List layers compatible with a runtme</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda list-layers <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --compatible-runtime python3.11
</span></span></code></pre></td></tr></table></div></div><h4 id=list-tags-1>List tags</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda list-tags <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --resource arn:aws:lambda:us-west-2:123456789012:function:my-function
</span></span></code></pre></td></tr></table></div></div><h4 id=list-versions-of-a-function>List versions of a function</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda list-versions-by-function <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --function-name my-function
</span></span></code></pre></td></tr></table></div></div><h3 id=s3>S3</h3><h4 id=create-a-multipart-upload>Create a multipart upload</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api create-multipart-upload --bucket my-bucket --key <span class=s1>&#39;multipart/01&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>Output:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Bucket&#34;</span><span class=p>:</span> <span class=s2>&#34;my-bucket&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;UploadId&#34;</span><span class=p>:</span> <span class=s2>&#34;dfRtDYU0WWCCcH43C3WFbkRONycyCpTJJvxu2i5GYkZljF.Yxwh6XG7WfS2vC4to6HiV6Yjlx.cph0gtNBtJ8P3URCSbB7rjxI5iEwVDmgaXZOGgkk5nVTW16HOQ5l0R&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Key&#34;</span><span class=p>:</span> <span class=s2>&#34;multipart/01&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=list-active-multipart-uploads>List active multipart uploads</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api list-multipart-uploads --bucket my-bucket
</span></span></code></pre></td></tr></table></div></div><h4 id=list-parts-that-have-uploaded>List parts that have uploaded</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api list-parts --bucket my-bucket --key <span class=s1>&#39;multipart/01&#39;</span> --upload-id dfRtDYU0WWCCcH43C3WFbkRONycyCpTJJvxu2i5GYkZljF.Yxwh6XG7WfS2vC4to6HiV6Yjlx.cph0gtNBtJ8P3URCSbB7rjxI5iEwVDmgaXZOGgkk5nVTW16HOQ5l0R
</span></span></code></pre></td></tr></table></div></div><h4 id=upload-a-part>Upload a part</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api upload-part <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--bucket my-bucket <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--key <span class=s1>&#39;multipart/01&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--part-number <span class=m>1</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--body part01 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--upload-id  <span class=s2>&#34;dfRtDYU0WWCCcH43C3WFbkRONycyCpTJJvxu2i5GYkZljF.Yxwh6XG7WfS2vC4to6HiV6Yjlx.cph0gtNBtJ8P3URCSbB7rjxI5iEwVDmgaXZOGgkk5nVTW16HOQ5l0R&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=complete-a-multipart-upload>Complete a multipart upload</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api complete-multipart-upload <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--multipart-upload file://mpustruct <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--bucket my-bucket --key <span class=s1>&#39;multipart/01&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--upload-id dfRtDYU0WWCCcH43C3WFbkRONycyCpTJJvxu2i5GYkZljF.Yxwh6XG7WfS2vC4to6HiV6Yjlx.cph0gtNBtJ8P3URCSbB7rjxI5iEwVDmgaXZOGgkk5nVTW16HOQ5l0R
</span></span></code></pre></td></tr></table></div></div><h4 id=abort-a-multipart-upload>Abort a multipart upload</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api abort-multipart-upload <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --bucket my-bucket <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key multipart/01 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --upload-id dfRtDYU0WWCCcH43C3WFbkRONycyCpTJJvxu2i5GYkZljF.Yxwh6XG7WfS2vC4to6HiV6Yjlx.cph0gtNBtJ8P3URCSbB7rjxI5iEwVDmgaXZOGgkk5nVTW16HOQ5l0R
</span></span></code></pre></td></tr></table></div></div><h4 id=copy-an-object-from-bucket-1-to-bucket-2>Copy an object from bucket-1 to bucket-2</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api copy-object --copy-source bucket-1/test.txt --key test.txt --bucket bucket-2
</span></span></code></pre></td></tr></table></div></div><h4 id=copy-a-file-from-s3-to-s3>Copy a file from S3 to S3</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 cp s3://mybucket/test.txt s3://mybucket/test2.txt
</span></span></code></pre></td></tr></table></div></div><h4 id=copy-a-local-file-to-s3>Copy a local file to S3</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 cp test.txt s3://mybucket/test2.txt
</span></span></code></pre></td></tr></table></div></div><ul><li>To add an expiry, use <code>--expires</code> with timestamp. For ex: <code>--expires 2014-10-01T20:30:00Z</code></li></ul><h4 id=copy-an-s3-object-to-a-local-file>Copy an S3 object to a local file</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 cp s3://mybucket/test.txt test2.txt
</span></span></code></pre></td></tr></table></div></div><h4 id=copy-an-s3-object-from-one-bucket-to-another>Copy an S3 object from one bucket to another</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 cp s3://mybucket/test.txt s3://mybucket2/
</span></span></code></pre></td></tr></table></div></div><h4 id=upload-to-an-access-point>Upload to an access point</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 cp mydoc.txt s3://arn:aws:s3:us-west-2:123456789012:accesspoint/myaccesspoint/mykey
</span></span></code></pre></td></tr></table></div></div><h4 id=download-from-an-access-point>Download from an access point</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 cp s3://arn:aws:s3:us-west-2:123456789012:accesspoint/myaccesspoint/mykey mydoc.txt
</span></span></code></pre></td></tr></table></div></div><h4 id=recursively-copy-s3-objects-to-a-local-directory>Recursively copy S3 objects to a local directory</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 cp s3://mybucket . --recursive
</span></span></code></pre></td></tr></table></div></div><h4 id=recursively-copy-local-files-to-s3>Recursively copy local files to S3</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 cp myDir s3://mybucket/ <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --recursive <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --exclude <span class=s2>&#34;*.jpg&#34;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Combine <code>--exclude</code> and <code>--include</code> options to copy only objects that match a pattern, excluding all others.</li><li><code>--recursive</code> to recursively include all files under a folder/key/prefix</li><li><code>--acl</code> acceptable values are <code>private</code>, <code>public-read</code>, <code>public-read-write</code>, <code>authenticated-read</code>, <code>aws-exec-read</code>, <code>bucket-owner-read</code>, <code>bucket-owner-full-control</code> and <code>log-delivery-write</code></li></ul><h4 id=move-a-local-file-to-bucket>Move a local file to bucket</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 mv test.txt s3://mybucket/test2.txt
</span></span></code></pre></td></tr></table></div></div><ul><li>To move wih original name, use: <code>aws s3 mv s3://mybucket/test.txt s3://mybucket2/</code></li></ul><h4 id=move-an-object-to-local-folder>Move an object to local folder</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 mv s3://mybucket/test.txt test2.txt
</span></span></code></pre></td></tr></table></div></div><h4 id=move-an-object-to-another-bucket>Move an object to another bucket</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 mv s3://mybucket/test.txt s3://mybucket/test2.txt
</span></span></code></pre></td></tr></table></div></div><h4 id=move-file-to-an-acess-point>Move file to an acess point</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 ls s3://arn:aws:s3:us-west-2:123456789012:accesspoint/myaccesspoint/
</span></span></code></pre></td></tr></table></div></div><h4 id=move-all-objects-in-a-bucket-to-local-folder>Move all objects in a bucket to local folder</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 mv s3://mybucket . --recursive
</span></span></code></pre></td></tr></table></div></div><ul><li>Combine <code>--exclude</code> and <code>--include</code> options to copy only objects that match a pattern, excluding all others.</li><li><code>--recursive</code> to recursively include all files under a folder/key/prefix</li><li><code>--acl</code> acceptable values are <code>private</code>, <code>public-read</code>, <code>public-read-write</code>, <code>authenticated-read</code>, <code>aws-exec-read</code>, <code>bucket-owner-read</code>, <code>bucket-owner-full-control</code> and <code>log-delivery-write</code></li></ul><h4 id=grant-permissions-for-an-s3-object>Grant permissions for an S3 object</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 cp file.txt s3://mybucket/ <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--grants <span class=nv>read</span><span class=o>=</span><span class=nv>uri</span><span class=o>=</span>http://acs.amazonaws.com/groups/global/AllUsers <span class=nv>full</span><span class=o>=</span><span class=nv>id</span><span class=o>=</span>79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be
</span></span></code></pre></td></tr></table></div></div><h4 id=delete-an-object>Delete an object</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api delete-object --bucket my-bucket --key test.txt
</span></span></code></pre></td></tr></table></div></div><h4 id=delete-object>Delete object</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api delete-objects --bucket my-bucket --delete file://delete.json
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>delete.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;Objects&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Key&#34;</span><span class=p>:</span> <span class=s2>&#34;test1.txt&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;Quiet&#34;</span><span class=p>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=get-object-acl>Get object ACL</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api get-object-acl --bucket my-bucket --key index.html
</span></span></code></pre></td></tr></table></div></div><h4 id=get-object-metadata-without-object>Get object metadata without object</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api head-object --bucket my-bucket --key index.html
</span></span></code></pre></td></tr></table></div></div><p>Output:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;AcceptRanges&#34;</span><span class=p>:</span> <span class=s2>&#34;bytes&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ContentType&#34;</span><span class=p>:</span> <span class=s2>&#34;text/html&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;LastModified&#34;</span><span class=p>:</span> <span class=s2>&#34;Thu, 16 Apr 2015 18:19:14 GMT&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ContentLength&#34;</span><span class=p>:</span> <span class=mi>77</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VersionId&#34;</span><span class=p>:</span> <span class=s2>&#34;null&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ETag&#34;</span><span class=p>:</span> <span class=s2>&#34;\&#34;30a6ec7e1a9ad79c203d05a589c8b400\&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Metadata&#34;</span><span class=p>:</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=get-object-attributes-without-object>Get object attributes without object</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api get-object-attributes <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --bucket my-bucket <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key doc1.rtf <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --object-attributes <span class=s2>&#34;StorageClass&#34;</span> <span class=s2>&#34;ETag&#34;</span> <span class=s2>&#34;ObjectSize&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=download-a-s3-object>Download a S3 object</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api get-object --bucket text-content --key dir/my_images.tar.bz2 my_images.tar.bz2
</span></span></code></pre></td></tr></table></div></div><h4 id=upload-a-s3-object>Upload a S3 object</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api put-object --bucket text-content --key dir-1/my_images.tar.bz2 --body my_images.tar.bz2
</span></span></code></pre></td></tr></table></div></div><h4 id=list-objects>List objects</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api list-objects --bucket text-content --query <span class=s1>&#39;Contents[].{Key: Key, Size: Size}&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=list-object-versions>List object versions</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api list-object-versions --bucket my-bucket --prefix index.html
</span></span></code></pre></td></tr></table></div></div><h4 id=list-objects-from-access-point>List objects from access point</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 ls s3://arn:aws:s3:us-west-2:123456789012:accesspoint/myaccesspoint/
</span></span></code></pre></td></tr></table></div></div><h4 id=delete-an-object-1>Delete an object</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 rm s3://mybucket/test2.txt
</span></span></code></pre></td></tr></table></div></div><h4 id=delete-all-objects-in-a-bucket>Delete all objects in a bucket</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 rm s3://mybucket --recursive
</span></span></code></pre></td></tr></table></div></div><h4 id=delete-an-object-from-an-access-point>Delete an object from an access point</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 rm s3://arn:aws:s3:us-west-2:123456789012:accesspoint/myaccesspoint/mykey
</span></span></code></pre></td></tr></table></div></div><ul><li>Combine <code>--exclude</code> and <code>--include</code> options to copy only objects that match a pattern, excluding all others.</li><li><code>--recursive</code> to recursively include all files under a folder/key/prefix</li><li><code>--acl</code> acceptable values are <code>private</code>, <code>public-read</code>, <code>public-read-write</code>, <code>authenticated-read</code>, <code>aws-exec-read</code>, <code>bucket-owner-read</code>, <code>bucket-owner-full-control</code> and <code>log-delivery-write</code></li></ul><h4 id=filter-the-contents-of-an-object-based-on-an-sql-statement>Filter the contents of an object based on an SQL statement</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api <span class=k>select</span>-object-content <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --bucket my-bucket <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --key my-data-file.csv <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression <span class=s2>&#34;select * from s3object limit 100&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --expression-type <span class=s1>&#39;SQL&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --input-serialization <span class=s1>&#39;{&#34;CSV&#34;: {}, &#34;CompressionType&#34;: &#34;NONE&#34;}&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --output-serialization <span class=s1>&#39;{&#34;CSV&#34;: {}}&#39;</span> <span class=s2>&#34;output.csv&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --request-progress
</span></span></code></pre></td></tr></table></div></div><ul><li>Support object formats are CSV, JSON and Parquet</li><li>GZIP or BZIP2 compressed CSV and JSON files are supported. Columnar compression for Parquet using GZIP or Snappy is supported.</li><li>Files should have UTF-8 encoding</li></ul><h4 id=sync-all-local-objects-to-the-specified-bucket>Sync all local objects to the specified bucket</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 sync . s3://mybucket
</span></span></code></pre></td></tr></table></div></div><ul><li>Use <code>--delete</code> to delete file in bucket that does not exist in local folder</li></ul><h4 id=sync-all-s3-objects-from-one-bucket-to-another-bucket>Sync all S3 objects from one bucket to another bucket</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 sync s3://mybucket s3://mybucket2
</span></span></code></pre></td></tr></table></div></div><h4 id=sync-all-objects-from-a-bucket-to-the-local-directory>Sync all objects from a bucket to the local directory</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 sync s3://mybucket .
</span></span></code></pre></td></tr></table></div></div><h4 id=sync-to-an-s3-access-point>Sync to an S3 access point</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 sync . s3://arn:aws:s3:us-west-2:123456789012:accesspoint/myaccesspoint/
</span></span></code></pre></td></tr></table></div></div><ul><li>Combine <code>--exclude</code> and <code>--include</code> options to copy only objects that match a pattern, excluding all others.</li></ul><h4 id=create-a-bucket>Create a bucket</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 mb s3://mybucket
</span></span></code></pre></td></tr></table></div></div><h4 id=verify-if-bucket-exists-and-access-to-it>Verify if bucket exists and access to it</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api get-object --bucket text-content --key dir/my_images.tar.bz2 my_images.tar.bz2
</span></span></code></pre></td></tr></table></div></div><h4 id=list-buckets>List buckets</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=err>aws</span> <span class=err>s</span><span class=mi>3</span><span class=err>api</span> <span class=err>list-buckets</span> <span class=err>--query</span> <span class=s2>&#34;Buckets[].Name&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=list-all-buckets-owned-by-user>List all buckets owned by user</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 ls
</span></span></code></pre></td></tr></table></div></div><h4 id=list-all-prefixes-and-objects-in-a-bucket>List all prefixes and objects in a bucket</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 ls s3://mybucket <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --recursive <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --human-readable <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --summarize
</span></span></code></pre></td></tr></table></div></div><h4 id=get-bucket-acl>Get bucket ACL</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api get-bucket-acl --bucket my-bucket
</span></span></code></pre></td></tr></table></div></div><h4 id=add-permission-to-a-bucket-using-acl>Add permission to a bucket using ACL</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api put-bucket-acl <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--bucket MyBucket <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--grant-full-control <span class=nv>emailaddress</span><span class=o>=</span>user1@example.com,emailaddress<span class=o>=</span>user2@example.com <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--grant-read <span class=nv>uri</span><span class=o>=</span>http://acs.amazonaws.com/groups/global/AllUsers
</span></span></code></pre></td></tr></table></div></div><h4 id=add-permission-to-a-bucket-using-acl-1>Add permission to a bucket using ACL</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api put-object-acl <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--bucket MyBucket <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--key file.txt <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--grant-full-control <span class=nv>emailaddress</span><span class=o>=</span>user1@example.com,emailaddress<span class=o>=</span>user2@example.com <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--grant-read <span class=nv>uri</span><span class=o>=</span>http://acs.amazonaws.com/groups/global/AllUsers
</span></span></code></pre></td></tr></table></div></div><h4 id=set-the-block-public-access-configuration>Set the block public access configuration</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3api put-public-access-block <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --bucket my-bucket <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --public-access-block-configuration <span class=s2>&#34;BlockPublicAcls=true,IgnorePublicAcls=true,BlockPublicPolicy=true,RestrictPublicBuckets=true&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=delete-a-bucket>Delete a bucket</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws s3 rb s3://mybucket
</span></span></code></pre></td></tr></table></div></div><ul><li><code>--force</code> will remove all object and then delete the bucket</li></ul><h3 id=sqs>SQS</h3><h4 id=delete-a-message>Delete a message</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws sqs delete-message --queue-url https://sqs.us-east-1.amazonaws.com/80398EXAMPLE/MyQueue --receipt-handle AQEBRXTo...q2doVA<span class=o>==</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=get-queue-attributes>Get Queue attributes</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws sqs get-queue-attributes --queue-url https://sqs.us-east-1.amazonaws.com/80398EXAMPLE/MyQueue --attribute-names All
</span></span></code></pre></td></tr></table></div></div><p>Output:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;Attributes&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ApproximateNumberOfMessagesNotVisible&#34;</span><span class=p>:</span> <span class=s2>&#34;0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;RedrivePolicy&#34;</span><span class=p>:</span> <span class=s2>&#34;{\&#34;deadLetterTargetArn\&#34;:\&#34;arn:aws:sqs:us-east-1:80398EXAMPLE:MyDeadLetterQueue\&#34;,\&#34;maxReceiveCount\&#34;:1000}&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;MessageRetentionPeriod&#34;</span><span class=p>:</span> <span class=s2>&#34;345600&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ApproximateNumberOfMessagesDelayed&#34;</span><span class=p>:</span> <span class=s2>&#34;0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;MaximumMessageSize&#34;</span><span class=p>:</span> <span class=s2>&#34;262144&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;CreatedTimestamp&#34;</span><span class=p>:</span> <span class=s2>&#34;1442426968&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ApproximateNumberOfMessages&#34;</span><span class=p>:</span> <span class=s2>&#34;0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ReceiveMessageWaitTimeSeconds&#34;</span><span class=p>:</span> <span class=s2>&#34;0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;DelaySeconds&#34;</span><span class=p>:</span> <span class=s2>&#34;0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;VisibilityTimeout&#34;</span><span class=p>:</span> <span class=s2>&#34;30&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;LastModifiedTimestamp&#34;</span><span class=p>:</span> <span class=s2>&#34;1442426968&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;QueueArn&#34;</span><span class=p>:</span> <span class=s2>&#34;arn:aws:sqs:us-east-1:80398EXAMPLE:MyNewQueue&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=get-queue-url>Get queue URL</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws sqs get-queue-url --queue-name MyQueue
</span></span></code></pre></td></tr></table></div></div><h4 id=list-souce-queues-of-a-dead-letter-queue>List souce queues of a dead letter queue</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws sqs list-dead-letter-source-queues --queue-url https://sqs.us-east-1.amazonaws.com/80398EXAMPLE/MyDeadLetterQueue
</span></span></code></pre></td></tr></table></div></div><h4 id=list-all-queues>List all queues</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws sqs list-queues
</span></span></code></pre></td></tr></table></div></div><ul><li>Use <code>--queue-name-prefix</code> to filter by a name starting with a specific value</li></ul><h4 id=delete-all-messages-in-a-queue>Delete all messages in a queue</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws sqs purge-queue --queue-url https://sqs.us-east-1.amazonaws.com/80398EXAMPLE/MyNewQueue
</span></span></code></pre></td></tr></table></div></div><h4 id=send-a-message>Send a message</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws sqs send-message <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--queue-url https://sqs.us-east-1.amazonaws.com/80398EXAMPLE/MyQueue <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>		--message-body <span class=s2>&#34;Information about the largest city in Any Region.&#34;</span> 
</span></span><span class=line><span class=cl>		--delay-seconds <span class=m>10</span> 
</span></span><span class=line><span class=cl>		--message-attributes file://send-message.json
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>send-message.json</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;City&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;String&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;Any City&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;Greeting&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;Binary&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;BinaryValue&#34;</span><span class=p>:</span> <span class=s2>&#34;Hello, World!&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;Population&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;Number&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;1250800&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=send-multiple-messages>Send multiple messages</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws sqs send-message-batch <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>	--queue-url https://sqs.us-east-1.amazonaws.com/80398EXAMPLE/MyQueue 
</span></span><span class=line><span class=cl>	--entries file://send-message-batch.json
</span></span></code></pre></td></tr></table></div></div><p>Contents of <code>send-message-batch.json</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Id&#34;</span><span class=p>:</span> <span class=s2>&#34;FuelReport-0001-2015-09-16T140731Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;MessageBody&#34;</span><span class=p>:</span> <span class=s2>&#34;Fuel report for account 0001 on 2015-09-16 at 02:07:31 PM.&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;DelaySeconds&#34;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;MessageAttributes&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;SellerName&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;String&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;Example Store&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;City&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;String&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;Any City&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Region&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;String&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;WA&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;PostalCode&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;String&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;99065&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;PricePerGallon&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;Number&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;1.99&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Id&#34;</span><span class=p>:</span> <span class=s2>&#34;FuelReport-0002-2015-09-16T140930Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;MessageBody&#34;</span><span class=p>:</span> <span class=s2>&#34;Fuel report for account 0002 on 2015-09-16 at 02:09:30 PM.&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;DelaySeconds&#34;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;MessageAttributes&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;SellerName&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;String&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;Example Fuels&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;City&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;String&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;North Town&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Region&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;String&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;WA&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;PostalCode&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;String&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;99123&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;PricePerGallon&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;DataType&#34;</span><span class=p>:</span> <span class=s2>&#34;Number&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;StringValue&#34;</span><span class=p>:</span> <span class=s2>&#34;1.87&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=start-message-move-task---redrive-a-dlq>Start message move task - redrive a DLQ</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws sqs start-message-move-task <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --source-arn arn:aws:sqs:us-west-2:80398EXAMPLE:MyQueue1 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --destination-arn arn:aws:sqs:us-west-2:80398EXAMPLE:MyQueue2 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --max-number-of-messages-per-second <span class=m>50</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Redrive messages from DLQ to the source queue (cannot redrive DLQs of lambda, SNS, etc, only a queue)</li><li>Only standard queues support redrive. FIFO queues donβt support redrive</li><li>Only one active message movement task is supported per queue at any given time</li></ul><h4 id=list-message-move-tasks>List message move tasks</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws sqs list-message-move-tasks <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --source-arn arn:aws:sqs:us-west-2:80398EXAMPLE:MyQueue <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --max-results <span class=m>2</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=cancel-message-move-tasks>Cancel message move tasks</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws sqs cancel-message-move-task --task-handle AQEB6nR4...HzlvZQ<span class=o>==</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=api-gateway>Api Gateway</h3><h4 id=get-api-gateway-account-settings>Get API Gateway account settings</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws apigateway get-account
</span></span></code></pre></td></tr></table></div></div><p>Output:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;cloudwatchRoleArn&#34;</span><span class=p>:</span> <span class=s2>&#34;arn:aws:iam::123412341234:role/APIGatewayToCloudWatchLogsRole&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;throttleSettings&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;rateLimit&#34;</span><span class=p>:</span> <span class=mf>500.0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;burstLimit&#34;</span><span class=p>:</span> <span class=mi>1000</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=list-rest-apis>List REST APIs</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws apigateway get-rest-apis
</span></span></code></pre></td></tr></table></div></div><h4 id=test-invoke-the-root-resource-in-an-api-by-making-a-get-request>Test invoke the root resource in an API by making a GET request</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws apigateway test-invoke-method --rest-api-id <span class=m>1234123412</span> --resource-id avl5sg8fw8 --http-method GET --path-with-query-string <span class=s1>&#39;/&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=test-invoke-a-sub-resource-in-an-api-by-making-a-get-request-with-a-path-parameter-value>Test invoke a sub-resource in an API by making a GET request with a path parameter value</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws apigateway test-invoke-method --rest-api-id <span class=m>1234123412</span> --resource-id 3gapai --http-method GET --path-with-query-string <span class=s1>&#39;/pets/1&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=send-data-to-a-websocket-connection>Send data to a WebSocket connection</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws apigatewaymanagementapi post-to-connection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --connection-id <span class=nv>L0SM9cOFvHcCIhw</span><span class=o>=</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --data <span class=s2>&#34;Hello from API Gateway!&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --endpoint-url https://aabbccddee.execute-api.us-west-2.amazonaws.com/prod
</span></span></code></pre></td></tr></table></div></div><h4 id=get-information-about-a-websocket-connection>Get information about a WebSocket connection</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws apigatewaymanagementapi get-connection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --connection-id <span class=nv>L0SM9cOFvHcCIhw</span><span class=o>=</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --endpoint-url https://aabbccddee.execute-api.us-west-2.amazonaws.com/prod
</span></span></code></pre></td></tr></table></div></div><h4 id=delete-a-websocket-connection>Delete a WebSocket connection</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws apigatewaymanagementapi delete-connection <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --connection-id <span class=nv>L0SM9cOFvHcCIhw</span><span class=o>=</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --endpoint-url https://aabbccddee.execute-api.us-west-2.amazonaws.com/prod
</span></span></code></pre></td></tr></table></div></div><h3 id=rds>RDS</h3><h4 id=describe-account-attributes>Describe account attributes</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws rds describe-account-attributes
</span></span></code></pre></td></tr></table></div></div><h4 id=execute-a-batch-sql-statement-over-an-array-of-parameters>Execute a batch SQL statement over an array of parameters</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws rds-data batch-execute-statement <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --resource-arn <span class=s2>&#34;arn:aws:rds:us-west-2:123456789012:cluster:mydbcluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --database <span class=s2>&#34;mydb&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --secret-arn <span class=s2>&#34;arn:aws:secretsmanager:us-west-2:123456789012:secret:mysecret&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --sql <span class=s2>&#34;insert into mytable values (:id, :val)&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --parameter-sets <span class=s2>&#34;[[{\&#34;name\&#34;: \&#34;id\&#34;, \&#34;value\&#34;: {\&#34;longValue\&#34;: 1}},{\&#34;name\&#34;: \&#34;val\&#34;, \&#34;value\&#34;: {\&#34;stringValue\&#34;: \&#34;ValueOne\&#34;}}],
</span></span></span><span class=line><span class=cl><span class=s2>        [{\&#34;name\&#34;: \&#34;id\&#34;, \&#34;value\&#34;: {\&#34;longValue\&#34;: 2}},{\&#34;name\&#34;: \&#34;val\&#34;, \&#34;value\&#34;: {\&#34;stringValue\&#34;: \&#34;ValueTwo\&#34;}}],
</span></span></span><span class=line><span class=cl><span class=s2>        [{\&#34;name\&#34;: \&#34;id\&#34;, \&#34;value\&#34;: {\&#34;longValue\&#34;: 3}},{\&#34;name\&#34;: \&#34;val\&#34;, \&#34;value\&#34;: {\&#34;stringValue\&#34;: \&#34;ValueThree\&#34;}}]]&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=begin-a-transaction>Begin a transaction</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws rds-data begin-transaction <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --resource-arn <span class=s2>&#34;arn:aws:rds:us-west-2:123456789012:cluster:mydbcluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --database <span class=s2>&#34;mydb&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --secret-arn <span class=s2>&#34;arn:aws:secretsmanager:us-west-2:123456789012:secret:mysecret&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>Output:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;transactionId&#34;</span><span class=p>:</span> <span class=s2>&#34;ABC1234567890xyz&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=commit-a-sql-transaction>Commit a SQL transaction</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws rds-data commit-transaction <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --resource-arn <span class=s2>&#34;arn:aws:rds:us-west-2:123456789012:cluster:mydbcluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --secret-arn <span class=s2>&#34;arn:aws:secretsmanager:us-west-2:123456789012:secret:mysecret&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --transaction-id <span class=s2>&#34;ABC1234567890xyz&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=execute-a-sql-statement-that-is-part-of-a-transaction>Execute a SQL statement that is part of a transaction</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws rds-data execute-statement <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --resource-arn <span class=s2>&#34;arn:aws:rds:us-west-2:123456789012:cluster:mydbcluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --database <span class=s2>&#34;mydb&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --secret-arn <span class=s2>&#34;arn:aws:secretsmanager:us-west-2:123456789012:secret:mysecret&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --sql <span class=s2>&#34;update mytable set quantity=5 where id=201&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --transaction-id <span class=s2>&#34;ABC1234567890xyz&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=execute-a-sql-statement-with-parameters>Execute a SQL statement with parameters</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws rds-data execute-statement <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --resource-arn <span class=s2>&#34;arn:aws:rds:us-east-1:123456789012:cluster:mydbcluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --database <span class=s2>&#34;mydb&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --secret-arn <span class=s2>&#34;arn:aws:secretsmanager:us-east-1:123456789012:secret:mysecret&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --sql <span class=s2>&#34;insert into mytable values (:id, :val)&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --parameters <span class=s2>&#34;[{\&#34;name\&#34;: \&#34;id\&#34;, \&#34;value\&#34;: {\&#34;longValue\&#34;: 1}},{\&#34;name\&#34;: \&#34;val\&#34;, \&#34;value\&#34;: {\&#34;stringValue\&#34;: \&#34;value1\&#34;}}]&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=roll-back-a-sql-transaction>Roll back a SQL transaction</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws rds-data rollback-transaction <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --resource-arn <span class=s2>&#34;arn:aws:rds:us-west-2:123456789012:cluster:mydbcluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --secret-arn <span class=s2>&#34;arn:aws:secretsmanager:us-west-2:123456789012:secret:mysecret&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --transaction-id <span class=s2>&#34;ABC1234567890xyz&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=references>References</h2><ul><li><a href=https://awscli.amazonaws.com/v2/documentation/api/latest/reference/index.html target=_blank rel="noopener noreffer">https://docs.aws.amazon.com/cli/latest/reference/</a></li><li><a href=https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html target=_blank rel="noopener noreffer">https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html</a></li><li><a href=https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-services.html target=_blank rel="noopener noreffer">https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-services.html</a></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2024-04-26</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://pratyakshajha.me/aws-cli-cheatsheet/ data-title="AWS CLI Cheatsheet" data-hashtags=aws><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://pratyakshajha.me/aws-cli-cheatsheet/ data-hashtag=aws><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://pratyakshajha.me/aws-cli-cheatsheet/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://pratyakshajha.me/aws-cli-cheatsheet/ data-title="AWS CLI Cheatsheet" data-web><i class="fab fa-whatsapp fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://pratyakshajha.me/aws-cli-cheatsheet/><i class="fab fa-reddit fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Pocket" data-sharer=pocket data-url=https://pratyakshajha.me/aws-cli-cheatsheet/><i class="fab fa-get-pocket fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://pratyakshajha.me/aws-cli-cheatsheet/ data-title="AWS CLI Cheatsheet" data-description><i class="fab fa-blogger fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Evernote" data-sharer=evernote data-url=https://pratyakshajha.me/aws-cli-cheatsheet/ data-title="AWS CLI Cheatsheet"><i class="fab fa-evernote fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Trello" data-sharer=trello data-url=https://pratyakshajha.me/aws-cli-cheatsheet/ data-title="AWS CLI Cheatsheet" data-description><i class="fab fa-trello fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/aws/>Aws</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/sql-cheatsheet/ class=prev rel=prev title="SQL Cheatsheet"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>SQL Cheatsheet</a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.125.4">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><span class=author itemprop=copyrightHolder>&nbsp;<a href=/about target=_blank>Pratyaksha Jha</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by/4.0/ target=_blank>CC BY 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery@2.4.0/css/lightgallery-bundle.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.1/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.4.0/lightgallery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.4.0/plugins/thumbnail/lg-thumbnail.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.4.0/plugins/zoom/lg-zoom.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:15},comment:{},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.d7121d72cd85153ec9d35a888cee3eb28c2700ca763f649a538f6c772d750021.js integrity="sha256-1xIdcs2FFT7J01qIjO4+sownAMp2P2SaU49sdy11ACE="></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-174965261-1",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-174965261-1" async></script></body></html>